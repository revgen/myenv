#!/bin/sh
echo "--[sysinfo]-----------------------------"
printf "hostname..: "; hostname
printf "localnet..: "; 
if which ifconfig >/dev/null; then
  ifconfig | sed -En 's/127.0.0.1//;s/.*inet (addr:)?(([0-9]*\.){3}[0-9]*).*/\2/p' | xargs | sed 's/ /,/g'
else
  ip addr show | grep "inet " | grep -v "127.0.0.1" | cut -d"/" -f1 | sed 's/[ ]*inet[ ]*//g'
fi
printf "uptime....: "; uptime | sed 's/^[ ]*//g'
printf "time......: "; date +"%Y-%m-%dT%H:%M:%S%Z"
printf "internet..: "; curl http://checkip.amazonaws.com
printf "status....: "; (curl -sIL -m 3 "https://www.google.com" || echo "HTTP 500") | grep "HTTP[^ ]*" | cut -d" " -f2
case "${1}" in
  --connection|-c|--arp)
    echo "--[connection]--------------------------"
    arp -av | sort
    echo "----------------------------------------"
    ;;
esac
